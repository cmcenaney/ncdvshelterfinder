(this["webpackJsonpuse-mapbox-gl-js-with-react"]=this["webpackJsonpuse-mapbox-gl-js-with-react"]||[]).push([[0],{201:function(e,n,t){},211:function(e,n){},213:function(e,n){},243:function(e,n){},245:function(e,n){},277:function(e,n){},279:function(e,n){},280:function(e,n){},285:function(e,n){},287:function(e,n){},293:function(e,n){},295:function(e,n){},314:function(e,n){},326:function(e,n){},329:function(e,n){},408:function(e,n,t){"use strict";t.r(n);var c=t(7),o=t.n(c),r=t(193),s=t.n(r),u=(t(200),t(201),t(194)),i=t(195),a=t.n(i),l=(t(406),t.p+"static/media/counties.8a9f8c1a.geojson"),d=t(34),p=t.n(d),j=t(8);async function b(){const e=new u.GoogleSpreadsheet("1GprlUO2QiokH8pGwnV_7LZMroN-zVVXZt_H7AUrBPH0");await e.useServiceAccountAuth({client_email:"shelter-finder@shelter-finder.iam.gserviceaccount.com",private_key:"-----BEGIN PRIVATE KEY-----\\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDD7/pgAAtVSrBS\\n6Zl+1qnSndd5K8svjW1rq1rcKQEuFk4HNpu3GZfaf3/ICWgWJbJkrHCcE/h5FJTg\\nPFvnf4ORmGwzAQPcRNIJpE6dIT9FbrsZBIpI6+B2/x2a6GiU98usytToBi/Z0yvd\\n/NIRPcayfQdwxI4OUZpCWq1nl6VLNl9Aong316TK5XpYfuRMBufqcvnee6KE8f/j\\noDnYHNSL2+AkIb9Mnm7yPyNMvH5g+MMbaCQjdKZv7NW5NBi7dufPvRaSCZi7TO8F\\nWWTINSR9ngY5IPjHB1rdDCDqu4XYg4NRKGuJiHceTcRdWAp4/dkkljdnXCc+Qm8b\\nSKd+QB0PAgMBAAECggEABu/pLRrzS8VwMWSkkvFmDoHuI2kh3Ct6s0mG1wKl+wwT\\nySeYIxxx3EI6s59kTbHEpicreYCE10Hw9MYjpDJHOzwVS0epllPix9qcZJh3wAKS\\noekfku4JrXeM2cjeuF9+7j2O2i7V5OAYI9eUAcOZKa/0N9GNt1i7ncZ4xeaAQLBl\\nIP/5jBzj7UHJZVdyffru9Brq/eOKAkEQEKc3geG77B/QEa+DYDPIWH/6zmtmdkuX\\nQb5lw9P14JfQ3naCjmRY/CDaWMIu/FDVFpktoUaUGztkrGgFMI4oPJnI1DDQTsIb\\n3GEexjMEZOJAEkqz0ODoGzl3VmKeVsK+LacQdIjL2QKBgQD/2dCXibnlxc0YM8vY\\nb+D+PQp1cqXesNChzcFtN0UXnK4LTA3IfqbhZUKwJ69oTaCBlm8bRajPlZXT25Xc\\nnRsHgPSx2peMokpesP+GD3Myfy/X8bDbmDozVRk2ZbAeil+8Bq4UWD4KkM3r747x\\nx5CyNvTIifjl8PcE3NWteDDiAwKBgQDEDTik1dwiAWmWRy0WqWxiMGty3QwrHo7H\\nVXZWPAMecadkgs2RQn5jVkz0xiU5fOx6J6LGWZQxQvcw1cebKNBg+O2PA/SO0biG\\ndnM4cVChzjws51aiw7UNVhPuPKJ2ZNu9KQzglyW6tp4ncCoG5x0Xd7xwPe4wkErC\\ngBFvFxiRBQKBgQCeerpVk68938dJ7ZOgDrUMZp0a4RhTl6yz/TKKR0kZ9ihswQBs\\np98RENs9KGfjsOnyO0+5Ue3eH6c+Iu9yRzKd9Egd/uwO5dwxSWwOC3Xs2pG1LnXB\\noEq0z0qdwmFUmZvxaSXdXkeX3dhgA/TEWTyM17PKoIQ3UoqATZZiLGgDJwKBgB0W\\nBRBXdihJY1vbRXI2QpEys84/wz1mdDJYmIzkrGXI4NfFnC/v2IZuWE58Uyt7QC5D\\nUR/yTE0erUO+g7WeUYQBimUMZi0GKkUwr5lxHlBTI5RZ4f2V4XeQDLbsogHEpuEi\\nhPmRExTnYQFi36lUgnln1zojxgHIdn7ytyNvHsLtAoGBAPZkBpDuu4cQm9V9eXWX\\ngOr3NQGd8siDWWqqgKrlymuwTgaWU4oLL7Zr108h52wvdQ0TDvmNB8/zqUnBzy6H\\nn8uD9lKjSpwIT2AYlVUCUER0qtiqzNjFaq7dAGJtaWJpj1C1bQg6V8mV1tbwTa0H\\n54j+b4Ppxge8/t/e4uW1Ct1c\\n-----END PRIVATE KEY-----\\n".replace(/\\n/g,"\n")}),await e.loadInfo();const n=e.sheetsByIndex[0],t=await n.getRows(),c={},o=[];t.forEach((e=>{const n={};n.county=e.county.toLowerCase(),n.phone=e.phone,n.name=e.name,n.link=e.link,o.push(n),c[e.county.toLowerCase()]={phone:e.phone,name:e.name,link:e.link}}));return o.reduce((function(e,n){return e[n.county]=e[n.county]||[],e[n.county].push(n),e}),Object.create(null))}function f(){const e=Object(c.useRef)(null),n=Object(c.useRef)(null),[t,o]=Object(c.useState)(-80),[r,s]=Object(c.useState)(35.4),[u,i]=Object(c.useState)(6.5),[d,f]=Object(c.useState)(""),[g,h]=Object(c.useState)(""),[m,y]=Object(c.useState)(""),[w,x]=Object(c.useState)("");return Object(c.useEffect)((()=>{n.current||(n.current=new p.a.Map({container:e.current,style:"mapbox://styles/mapbox/light-v10",center:[t,r],zoom:u}),n.current.addControl(new a.a({accessToken:p.a.accessToken,mapboxgl:p.a,zoom:u,bbox:[-84.32178200052,33.85116926668266,-75.45981513195132,36.5881334409244]}).on("result",(function(e){const n=e.result.context[2].text.toLowerCase().replace(" county",""),t={lng:e.result.center[0],lat:e.result.center[1]};console.log(t);b().then((e=>{f(n),h(e[n][0].name),x(e[n][0].link),y(e[n][0].phone)}))}))),n.current.addControl(new p.a.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,fitBoundsOptions:{maxZoom:u}})))})),Object(c.useEffect)((()=>{n.current&&(n.current.on("move",(()=>{o(n.current.getCenter().lng.toFixed(4)),s(n.current.getCenter().lat.toFixed(4)),i(n.current.getZoom().toFixed(2))})),n.current.on("load",(()=>{n.current.resize(),n.current.addSource("counties",{type:"geojson",data:l,generateId:!0}),n.current.addLayer({id:"counties",type:"fill",paint:{"fill-opacity":["case",["boolean",["feature-state","hover"],!1],.4,.2],"fill-outline-color":"#000","fill-color":"#000"},source:"counties"},"country-label"),n.current.addLayer({id:"counties-lines",type:"line",source:"counties"},"country-label"),n.current.addLayer({id:"poi-labels",type:"symbol",source:"counties",layout:{"text-field":["get","CO_NAME"],"text-size":10}});b().then((e=>{n.current.on("click","counties",(n=>{console.log(n.lngLat);const t=e[n.features[0].properties.CO_NAME.toLowerCase()][0];f(n.features[0].properties.CO_NAME.toLowerCase()),h(t.name),x(t.link),y(t.phone)}))})),n.current.on("mouseenter","counties",(()=>{n.current.getCanvas().style.cursor="pointer"}));let e=null;n.current.on("mousemove","counties",(t=>{t.features.length>0&&(null!==e&&n.current.setFeatureState({source:"counties",id:e},{hover:!1}),e=t.features[0].id,n.current.setFeatureState({source:"counties",id:e},{hover:!0}))})),n.current.on("mouseleave","counties",(()=>{null!==e&&n.current.setFeatureState({source:"counties",id:e},{hover:!1}),e=null,n.current.getCanvas().style.cursor=""}))})))})),Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{class:"header",children:[Object(j.jsx)("div",{class:"title",children:"Title here"}),Object(j.jsx)("div",{class:"description",children:"Description here"})]}),d&&Object(j.jsxs)("div",{className:"sidebar",children:[Object(j.jsx)("div",{class:"countyname",children:Object(j.jsxs)("p",{children:[d," County"]})}),Object(j.jsx)("a",{href:w,target:"_blank",children:Object(j.jsx)("p",{children:g})}),Object(j.jsx)("p",{dangerouslySetInnerHTML:{__html:m}})]}),Object(j.jsx)("div",{ref:e,className:"map-container"})]})}p.a.accessToken="pk.eyJ1IjoiY29sbGVlbm1jZW5hbmV5IiwiYSI6ImNqOG85MjF2ZDAwdWszNG8wbDRqaXY4ZW8ifQ.jZ5iSwd4Gf_HRfMya60MUA",s.a.render(Object(j.jsx)(o.a.StrictMode,{children:Object(j.jsx)(f,{})}),document.getElementById("root"))},88:function(e,n){}},[[408,1,2]]]);
//# sourceMappingURL=main.a40e6552.chunk.js.map