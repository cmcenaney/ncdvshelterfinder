(this["webpackJsonpuse-mapbox-gl-js-with-react"]=this["webpackJsonpuse-mapbox-gl-js-with-react"]||[]).push([[0],{201:function(e,t,n){},211:function(e,t){},213:function(e,t){},243:function(e,t){},245:function(e,t){},277:function(e,t){},279:function(e,t){},280:function(e,t){},285:function(e,t){},287:function(e,t){},293:function(e,t){},295:function(e,t){},314:function(e,t){},326:function(e,t){},329:function(e,t){},408:function(e,t,n){"use strict";n.r(t);var c=n(7),o=n.n(c),r=n(193),s=n.n(r),i=(n(200),n(201),n(194)),a=n(195),u=n.n(a),l=(n(406),n.p+"static/media/counties.8a9f8c1a.geojson"),d=n(26),p=n.n(d),f=n(8);async function b(){const e=new i.GoogleSpreadsheet("1GprlUO2QiokH8pGwnV_7LZMroN-zVVXZt_H7AUrBPH0");await e.useServiceAccountAuth({client_email:"shelter-finder@shelter-finder.iam.gserviceaccount.com",private_key:"-----BEGIN PRIVATE KEY-----\\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDD7/pgAAtVSrBS\\n6Zl+1qnSndd5K8svjW1rq1rcKQEuFk4HNpu3GZfaf3/ICWgWJbJkrHCcE/h5FJTg\\nPFvnf4ORmGwzAQPcRNIJpE6dIT9FbrsZBIpI6+B2/x2a6GiU98usytToBi/Z0yvd\\n/NIRPcayfQdwxI4OUZpCWq1nl6VLNl9Aong316TK5XpYfuRMBufqcvnee6KE8f/j\\noDnYHNSL2+AkIb9Mnm7yPyNMvH5g+MMbaCQjdKZv7NW5NBi7dufPvRaSCZi7TO8F\\nWWTINSR9ngY5IPjHB1rdDCDqu4XYg4NRKGuJiHceTcRdWAp4/dkkljdnXCc+Qm8b\\nSKd+QB0PAgMBAAECggEABu/pLRrzS8VwMWSkkvFmDoHuI2kh3Ct6s0mG1wKl+wwT\\nySeYIxxx3EI6s59kTbHEpicreYCE10Hw9MYjpDJHOzwVS0epllPix9qcZJh3wAKS\\noekfku4JrXeM2cjeuF9+7j2O2i7V5OAYI9eUAcOZKa/0N9GNt1i7ncZ4xeaAQLBl\\nIP/5jBzj7UHJZVdyffru9Brq/eOKAkEQEKc3geG77B/QEa+DYDPIWH/6zmtmdkuX\\nQb5lw9P14JfQ3naCjmRY/CDaWMIu/FDVFpktoUaUGztkrGgFMI4oPJnI1DDQTsIb\\n3GEexjMEZOJAEkqz0ODoGzl3VmKeVsK+LacQdIjL2QKBgQD/2dCXibnlxc0YM8vY\\nb+D+PQp1cqXesNChzcFtN0UXnK4LTA3IfqbhZUKwJ69oTaCBlm8bRajPlZXT25Xc\\nnRsHgPSx2peMokpesP+GD3Myfy/X8bDbmDozVRk2ZbAeil+8Bq4UWD4KkM3r747x\\nx5CyNvTIifjl8PcE3NWteDDiAwKBgQDEDTik1dwiAWmWRy0WqWxiMGty3QwrHo7H\\nVXZWPAMecadkgs2RQn5jVkz0xiU5fOx6J6LGWZQxQvcw1cebKNBg+O2PA/SO0biG\\ndnM4cVChzjws51aiw7UNVhPuPKJ2ZNu9KQzglyW6tp4ncCoG5x0Xd7xwPe4wkErC\\ngBFvFxiRBQKBgQCeerpVk68938dJ7ZOgDrUMZp0a4RhTl6yz/TKKR0kZ9ihswQBs\\np98RENs9KGfjsOnyO0+5Ue3eH6c+Iu9yRzKd9Egd/uwO5dwxSWwOC3Xs2pG1LnXB\\noEq0z0qdwmFUmZvxaSXdXkeX3dhgA/TEWTyM17PKoIQ3UoqATZZiLGgDJwKBgB0W\\nBRBXdihJY1vbRXI2QpEys84/wz1mdDJYmIzkrGXI4NfFnC/v2IZuWE58Uyt7QC5D\\nUR/yTE0erUO+g7WeUYQBimUMZi0GKkUwr5lxHlBTI5RZ4f2V4XeQDLbsogHEpuEi\\nhPmRExTnYQFi36lUgnln1zojxgHIdn7ytyNvHsLtAoGBAPZkBpDuu4cQm9V9eXWX\\ngOr3NQGd8siDWWqqgKrlymuwTgaWU4oLL7Zr108h52wvdQ0TDvmNB8/zqUnBzy6H\\nn8uD9lKjSpwIT2AYlVUCUER0qtiqzNjFaq7dAGJtaWJpj1C1bQg6V8mV1tbwTa0H\\n54j+b4Ppxge8/t/e4uW1Ct1c\\n-----END PRIVATE KEY-----\\n".replace(/\\n/g,"\n")}),await e.loadInfo();const t=e.sheetsByIndex[0],n=await t.getRows(),c={},o=[];n.forEach((e=>{const t={};t.county=e.county.toLowerCase(),t.phone=e.phone,t.name=e.name,t.link=e.link,o.push(t),c[e.county.toLowerCase()]={phone:e.phone,name:e.name,link:e.link}}));return o.reduce((function(e,t){return e[t.county]=e[t.county]||[],e[t.county].push(t),e}),Object.create(null))}function g(){const e=Object(c.useRef)(null),t=Object(c.useRef)(null),[n,o]=Object(c.useState)(-80),[r,s]=Object(c.useState)(35.4),[i,a]=Object(c.useState)(6.5),[d,g]=Object(c.useState)(""),[j,h]=Object(c.useState)(""),[m,y]=Object(c.useState)(""),[w,x]=Object(c.useState)("");return Object(c.useEffect)((()=>{t.current||(t.current=new p.a.Map({container:e.current,style:"mapbox://styles/mapbox/light-v10",center:[n,r],zoom:i}),t.current.addControl(new u.a({accessToken:p.a.accessToken,mapboxgl:p.a,zoom:i,bbox:[-84.32178200052,33.85116926668266,-75.45981513195132,36.5881334409244]}).on("result",(function(e){const n=e.result.context[2].text.toLowerCase().replace(" county",""),c={lng:e.result.center[0],lat:e.result.center[1]};console.log(c);b().then((e=>{(new p.a.Popup).setLngLat(c).setHTML(function(e,t){let n=`<h3 class="county-title">${e} County</h3>`;return t&&t.forEach((e=>{if(e.link){const t=e.link.split("//")[1];n+=`<div class="info"><a href="https://${t}" target="_blank"><p class="dv-title">${e.name}</p></a>`}else n+=`<div class="info"><p class="dv-title">${e.name}</p>`;n+=`<p class="phone">${e.phone}</p></div>`})),n}(n,e[n])).addTo(t.current)}))}))),t.current.addControl(new p.a.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,fitBoundsOptions:{maxZoom:i}})))})),Object(c.useEffect)((()=>{t.current&&(t.current.on("move",(()=>{o(t.current.getCenter().lng.toFixed(4)),s(t.current.getCenter().lat.toFixed(4)),a(t.current.getZoom().toFixed(2))})),t.current.on("load",(()=>{t.current.resize(),t.current.addSource("counties",{type:"geojson",data:l,generateId:!0}),t.current.addLayer({id:"counties",type:"fill",paint:{"fill-opacity":["case",["boolean",["feature-state","hover"],!1],.4,.2],"fill-outline-color":"#000","fill-color":"#000"},source:"counties"},"country-label"),t.current.addLayer({id:"counties-lines",type:"line",source:"counties"},"country-label"),t.current.addLayer({id:"poi-labels",type:"symbol",source:"counties",layout:{"text-field":["get","CO_NAME"],"text-size":10}});b().then((e=>{t.current.on("click","counties",(t=>{console.log(t.lngLat);const n=e[t.features[0].properties.CO_NAME.toLowerCase()][0];g(t.features[0].properties.CO_NAME.toLowerCase()),h(n.name),x(n.link),y(n.phone)}))})),t.current.on("mouseenter","counties",(()=>{t.current.getCanvas().style.cursor="pointer"}));let e=null;t.current.on("mousemove","counties",(n=>{n.features.length>0&&(null!==e&&t.current.setFeatureState({source:"counties",id:e},{hover:!1}),e=n.features[0].id,t.current.setFeatureState({source:"counties",id:e},{hover:!0}))})),t.current.on("mouseleave","counties",(()=>{null!==e&&t.current.setFeatureState({source:"counties",id:e},{hover:!1}),e=null,t.current.getCanvas().style.cursor=""}))})))})),Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{class:"header",children:[Object(f.jsx)("div",{class:"title",children:"Title here"}),Object(f.jsx)("div",{class:"description",children:"Description here"})]}),d&&Object(f.jsxs)("div",{className:"sidebar",children:[Object(f.jsx)("div",{class:"countyname",children:Object(f.jsxs)("p",{children:[d," County"]})}),Object(f.jsx)("a",{href:w,target:"_blank",children:Object(f.jsx)("p",{children:j})}),Object(f.jsx)("p",{dangerouslySetInnerHTML:{__html:m}})]}),Object(f.jsx)("div",{ref:e,className:"map-container"})]})}p.a.accessToken="pk.eyJ1IjoiY29sbGVlbm1jZW5hbmV5IiwiYSI6ImNqOG85MjF2ZDAwdWszNG8wbDRqaXY4ZW8ifQ.jZ5iSwd4Gf_HRfMya60MUA",s.a.render(Object(f.jsx)(o.a.StrictMode,{children:Object(f.jsx)(g,{})}),document.getElementById("root"))},88:function(e,t){}},[[408,1,2]]]);
//# sourceMappingURL=main.647eff7d.chunk.js.map